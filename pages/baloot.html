<!doctype html>
<html lang="ar" dir="rtl"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ููุฏ ุงูุจููุช</title><link rel="stylesheet" href="../style.css"/></head>
<body><div class="app pages" data-theme="dark">
<header class="topbar"><div class="brand">
<div class="logo"><img src="../logo.png" class="logo-img"></div>
<div class="brand-text"><div class="brand-title">ููุฏ ุงูุจููุช</div></div>
</div><button class="icon-btn" id="themeToggle"><span id="themeIcon">๐</span></button></header>
<main class="container">
<div style="display:flex;gap:10px;margin-bottom:10px">
<button id="homeBtn">ุงูุฑุฆูุณูุฉ</button>
<button id="undoBtn">ุชุฑุงุฌุน</button>
<div style="flex:1;text-align:center;font-weight:bold">ููุฏ ุงูุจููุช</div>
<button id="newGameBtn">ูุนุจุฉ ุฌุฏูุฏุฉ</button>
</div>
<div id="alertBox" style="text-align:center;font-weight:bold;margin:10px"></div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
<div><div style="text-align:center;font-weight:bold">ููุง</div><input id="us" class="input" inputmode="numeric"></div>
<div><div style="text-align:center;font-weight:bold">ููู</div><input id="them" class="input" inputmode="numeric"></div>
</div>
<button id="saveBtn" style="margin-top:10px;width:100%">ุณุฌู</button>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px">
<div id="usLog"></div><div id="themLog"></div></div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:20px">
<div id="usTotal" style="font-size:22px;font-weight:bold">0</div>
<div id="themTotal" style="font-size:22px;font-weight:bold">0</div>
</div></main></div>
<script src="../app.js"></script>
<script>
const WIN=152;let usArr=[],themArr=[],locked=false;
const us=document.getElementById('us'),them=document.getElementById('them');
const usLog=document.getElementById('usLog'),themLog=document.getElementById('themLog');
const usTotal=document.getElementById('usTotal'),themTotal=document.getElementById('themTotal');
const alertBox=document.getElementById('alertBox');
function toEng(s){const m={'ู':'0','ูก':'1','ูข':'2','ูฃ':'3','ูค':'4','ูฅ':'5','ูฆ':'6','ูง':'7','ูจ':'8','ูฉ':'9'};return s.replace(/[ู-ูฉ]/g,d=>m[d]);}
function render(){
usLog.innerHTML='';themLog.innerHTML='';
usArr.forEach(n=>usLog.innerHTML+=`<div>${n}</div>`);
themArr.forEach(n=>themLog.innerHTML+=`<div>${n}</div>`);
usTotal.textContent=usArr.reduce((a,b)=>a+b,0);
themTotal.textContent=themArr.reduce((a,b)=>a+b,0);
}
document.getElementById('saveBtn').onclick=()=>{
if(locked)return;
let u=toEng(us.value||'');let t=toEng(them.value||'');
u=u==''?0:Number(u);t=t==''?0:Number(t);
usArr.push(u);themArr.push(t);
checkWin();render();us.value='';them.value='';};
function checkWin(){
const u=usArr.reduce((a,b)=>a+b,0),t=themArr.reduce((a,b)=>a+b,0);
if(u>=WIN||t>=WIN){if(u==t)return;locked=true;
alertBox.textContent=(u>t)?'ูุจุฑูู ููุฒ !':'ุฎุณุงุฑุฉ !';}}
document.getElementById('undoBtn').onclick=()=>{
if(confirm('ูุชุฃูุฏ ุชุจู ุชุชุฑุงุฌุน ุ')){usArr.pop();themArr.pop();locked=false;alertBox.textContent='';render();}};
document.getElementById('newGameBtn').onclick=()=>{
if(confirm('ูุชุฃูุฏ ุชุจู ุชุจุฏุฃ ูุนุจุฉ ุฌุฏูุฏุฉ ุ')){usArr=[];themArr=[];locked=false;alertBox.textContent='';render();}};
document.getElementById('homeBtn').onclick=()=>{
if(confirm('ูุชุฃูุฏ ุชุจู ุชุฑุฌุน ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ุ'))location.href='../index.html';};
render();
</script></body></html>